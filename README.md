»меетс€ система, позвол€юща€ зарабатывать группе пользователей деньги.

ѕользователи могут получить выплату 1 и 16 числа каждого мес€ца.



“ак же существует пон€тие задержки выплаты (hold), измер€емое в двухнедельных периодах.

ѕример:

ѕользователю A установлено правило оплаты biweekly, hold = 1.

≈сли сегодн€ 16 но€бр€, то он должен получить все деньги, заработанные до 1 но€бр€(текуща€ дата минус холд).

ѕользователю B установлено правило оплаты biweekly, hold = 2.

≈сли сегодн€ 16 но€бр€, то он должен получить все деньги, заработанные до 16 окт€бр€.

ƒанные о пользовател€х лежат в таблице users:

- user_id int;

- hold_rule smallint.

«аработанные деньги хран€тс€ в таблице вида:

- user_id int;

- date date;

- earned.

”же выплаченные деньги хран€тс€ в таблице транзакций в виде:

- user_id int;

- paid_amount.

“ребуетс€:

Ќаписать код, который при заходе на страницу, в зависимости от даты захода, дл€ всего списка пользователей рассчитывает:

- сколько всего заработал пользователь;

- сколько всего ему было выплачено;

- сколько пользователем было заработано денег с разбивкой на 8 платежных периодов назад (по две недели каждый);

- сколько пользователю нужно выплатить на данный момент;

- сколько денег у пользовател€ на балансе;

- сколько нужно будет выплатить пользователю в ближайший платежный день.





ƒополнительно:

- предложить тип пол€ дл€ earned и paid

- предложить реализацию, котора€ не потер€ет(или будет слабо тер€ть) в производительности с течением времени и ростом системы.